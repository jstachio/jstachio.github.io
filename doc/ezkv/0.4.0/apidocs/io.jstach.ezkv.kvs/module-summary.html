<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (21) -->
<title>io.jstach.ezkv.kvs (Ezkv API 0.4.0)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: io.jstach.ezkv.kvs">
<meta name="generator" content="javadoc/ModuleWriterImpl">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../jstachio.css" title="Style">
<link rel="stylesheet" type="text/css" href="../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../script-dir/jquery-ui.min.js"></script>
</head>
<body class="module-declaration-page">
<script type="text/javascript">var pathtoroot = "../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>                 <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/properties.min.js"></script>                 <script>hljs.highlightAll();</script></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Module</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="../overview-tree.html">Tree</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html#module">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Module:</p>
<ul>
<li><a href="#module-description">Description</a></li>
<li>Modules</li>
<li><a href="#packages-summary">Packages</a></li>
<li><a href="#services-summary">Services</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Module:&nbsp;</li>
<li><a href="#module-description">Description</a>&nbsp;|&nbsp;</li>
<li>Modules&nbsp;|&nbsp;</li>
<li><a href="#packages-summary">Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#services-summary">Services</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Module io.jstach.ezkv.kvs" class="title">Module io.jstach.ezkv.kvs</h1>
</div>
<hr>
<div class="module-signature">module <span class="element-name">io.jstach.ezkv.kvs</span></div>
<section class="module-description" id="module-description">
<!-- ============ MODULE DESCRIPTION =========== -->
<div class="block">The EZKV core module, a non-opinionated
 Java configuration system that supports recursive chain loading of configuration from key-value
 pairs
 (<a href="https://search.maven.org/artifact/io.jstach.ezkv/ezkv-kvs/0.4.0/jar">
 io.jstach.ezkv:ezkv-kvs:0.4.0
 </a>).
 
 This module is designed for use cases where early-stage configuration is needed, even
 before application logging is set up.

 <p>Ezkv focuses on loading streams of key-value pairs (represented as <a href="io/jstach/ezkv/kvs/KeyValues.html" title="interface in io.jstach.ezkv.kvs"><code>KeyValues</code></a>)
 from various URI-based resources, such as classpath resources, files, system properties, and environment
 variables. The system is highly configurable and can be extended to support additional media types and
 URI patterns using the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ServiceLoader.html" title="class or interface in java.util" class="external-link"><code>ServiceLoader</code></a> mechanism.

 <h2 id="features-heading">Features</h2>
 <ul>
   <li>Zero opinions: No assumptions on loading order or resource names; fully user-defined.</li>
   <li>Zero dependencies (besides <code>java.base</code> and <code>org.jspecify</code> for nullability annotations).</li>
   <li>Immutable and thread-safe design, except for <code>Builder</code> classes.</li>
   <li>Simple interpolation mechanism, configurable through key-value pairs.</li>
   <li>Support for sensitive data handling and flexible resource chaining.</li>
   <li>Extensibility through custom media type handlers and URI schemes.</li>
 </ul>

 <h2 id="maven-coordinates-heading">Maven Coordinates</h2>
 <pre><code>
 &lt;dependency&gt;
     &lt;groupId&gt;io.jstach.ezkv&lt;/groupId&gt;
     &lt;artifactId&gt;ezkv-kvs&lt;/artifactId&gt;
     &lt;version&gt;0.4.0&lt;/version&gt;
 &lt;/dependency&gt;
 </code></pre>

 <h2 id="basic-usage-heading">Basic Usage</h2>
 Example of loading key-value pairs from various sources:
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code>var kvs = KeyValuesSystem.defaults()
    .loader()
    .add("classpath:/start.properties")
    .add("system:///")                   // add system properties to override
    .add("env:///")                      // add environment variables to override
    .add("cmd:///?_filter_sed=s/^-D//")  // add command line arguments with the -D prefix
    .load();

// Convert to a map and use it with other frameworks:
var map = kvs.toMap();
ConfigurableEnvironment env = applicationContext.getEnvironment();
env.getPropertySources().addFirst(new MapPropertySource("start", map));
</code></pre>
</div>


 <h2 id="example-properties-files-heading">Example Properties Files</h2>
 <h3 id="start-properties-heading">start.properties</h3>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-properties">message=Hello ${user.name}
_load_foo=classpath:/foo.properties
port.prefix=1
</code></pre>
</div>


 <h3 id="foo-properties-heading">foo.properties</h3>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-properties">user.name=Barf
message=Merchandising
db.port=${port.prefix}5672
_load_user=file:/${user.home}/.config/myapp/user.properties
_flags_user=sensitive,no_require
</code></pre>
</div>


 <h3 id="user-properties-heading">user.properties</h3>
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-properties">secret=12345 # my luggage combination
port.prefix=3
</code></pre>
</div>


 <h2 id="technical-details-heading">Technical Details</h2>
 <ul>
   <li>All classes, except for <code>Builder</code> classes, are immutable and thread-safe,
   ensuring safe concurrent use.</li>
   <li>Null values are neither returned nor accepted as input, unless explicitly marked
   with <code>Nullable</code>.</li>
 </ul>

 <h2 id="extensibility-heading">Extensibility</h2>
 The module supports extension through <a href="io/jstach/ezkv/kvs/KeyValuesServiceProvider.html" title="interface in io.jstach.ezkv.kvs"><code>KeyValuesServiceProvider</code></a>,
 which can be implemented to add custom media types and URI loaders. Implementations can
 be discovered and loaded using the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ServiceLoader.html" title="class or interface in java.util" class="external-link"><code>ServiceLoader</code></a> mechanism.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.0</dd>
<dt>Author:</dt>
<dd>agentgt</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<section class="packages-summary" id="packages-summary">
<!-- ============ PACKAGES SUMMARY =========== -->
<h2>Packages</h2>
<div id="package-summary-table">
<div class="caption"><span>Exports</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color package-summary-table package-summary-table-tab1"><a href="io/jstach/ezkv/kvs/package-summary.html">io.jstach.ezkv.kvs</a></div>
<div class="col-last even-row-color package-summary-table package-summary-table-tab1">
<div class="block">Ezkv Key Value loading system that allows loading of key values from URI-based
 resources.</div>
</div>
</div>
</div>
</section>
</li>
<li>
<section class="services-summary" id="services-summary">
<!-- ============ SERVICES SUMMARY =========== -->
<h2>Services</h2>
<div class="caption"><span>Uses</span></div>
<div class="details-table two-column-summary">
<div class="table-header col-first">Type</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="io/jstach/ezkv/kvs/KeyValuesServiceProvider.html" title="interface in io.jstach.ezkv.kvs">KeyValuesServiceProvider</a></div>
<div class="col-last even-row-color">
<div class="block">A service provider interface (SPI) for extending ezkv's capabilities to support
 additional media types and URI patterns.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 <a href="https://jstach.io/ezkv">ezkv</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.18.2/tocbot.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script src="../resources/jstachio.js"></script>
</body>
</html>
